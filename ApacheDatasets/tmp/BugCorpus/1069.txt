zookeep 1069 call shutdown quorump quickli lead corrupt log asf jira order restart zookeep set server wrapper class call shutdown exist quorump start set server specif shutdown code synchron quorum peer quorum peer shutdown fastleaderelect fle fastleaderelect quorum peer getelectionalg fle shutdown unnecessari quorum peer gettxnfactori commit catch java nio channel closedchannelexcept time wrapper class start quorump shut start quorump transit state quorump read latest log disk encount bogu magic number 2011 05 18 22 42 29 823 10467 pool 1 thread 2 fatal org apach zookeep server quorum quorump unabl load databas disk java io ioexcept transact log var cloudnet data zookeep version 2 log 700000001 invalid magic number 0 1514884167 org apach zookeep server persist filetxnlog filetxniter instreamcr filetxnlog java 510 org apach zookeep server persist filetxnlog filetxniter createinputarch filetxnlog java 527 org apach zookeep server persist filetxnlog filetxniter gotonextlog filetxnlog java 493 org apach zookeep server persist filetxnlog filetxniter filetxnlog java 576 org apach zookeep server persist filetxnlog filetxniter init filetxnlog java 479 org apach zookeep server persist filetxnlog filetxniter init filetxnlog java 454 org apach zookeep server persist filetxnlog read filetxnlog java 325 org apach zookeep server persist filetxnsnaplog restor filetxnsnaplog java 126 org apach zookeep server zkdatabas loaddatabas zkdatabas java 222 org apach zookeep server quorum quorump start quorump java 398 2011 05 18 22 42 29 823 10467 pool 1 thread 2 error nicira onix zookeep zookeep unexpect java lang runtimeexcept unabl run quorum server org apach zookeep server quorum quorump start quorump java 401 nicira onix zookeep zookeep startzookeep zookeep java 198 nicira onix zookeep zookeep restartzookeep zookeep java 277 nicira onix zookeep zkrpcservic setserv zkrpc java 83 nicira onix zookeep zkrpc zkrpcservic callmethod zkrpc java 8198 nicira onix rpc rpc 10 run rpc java 534 java util concurr threadpoolexecutor worker runtask threadpoolexecutor java 886 java util concurr threadpoolexecutor worker run threadpoolexecutor java 908 java lang thread run thread java 662 java io ioexcept transact log var cloudnet data zookeep version 2 log 700000001 invalid magic number 0 1514884167 org apach zookeep server persist filetxnlog filetxniter instreamcr filetxnlog java 510 org apach zookeep server persist filetxnlog filetxniter createinputarch filetxnlog java 527 org apach zookeep server persist filetxnlog filetxniter gotonextlog filetxnlog java 493 org apach zookeep server persist filetxnlog filetxniter filetxnlog java 576 org apach zookeep server persist filetxnlog filetxniter init filetxnlog java 479 org apach zookeep server persist filetxnlog filetxniter init filetxnlog java 454 org apach zookeep server persist filetxnlog read filetxnlog java 325 org apach zookeep server persist filetxnsnaplog restor filetxnsnaplog java 126 org apach zookeep server zkdatabas loaddatabas zkdatabas java 222 org apach zookeep server quorum quorump start quorump java 398 8 code bit problem fact quorump shutdown join return scenario quorump run notic state make call followlead start connect leader main program thread quorump shutdown call complic seri call eventu lead followerzookeeperserv shutdown call method call syncrequestprocess shutdown join return syncrequestprocessor thread start followlead call learner syncwithlead call zookeeperserv startup start thread join request requestofdeath ad queu request list request back main thread filetxnsnaplog commit call processor process final zookeeperserv startup call quorump run thread start syncrequestprocessor thread thread append request log log exist creat pad syncrequestprocessor hit requestofdeath quorump object delet exit thread commit log disk quorump read log thread commit log end proper magic number easi join quorump thread shutdown start processor thread shutdown check group agre problem mark minor zookeep pretti import person upload log file show behavior shortli
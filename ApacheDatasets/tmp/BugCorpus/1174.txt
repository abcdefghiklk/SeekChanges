zookeep 1174 fd leak network unreach asf jira socket connect logic error result bad behavior basic problem socket regist selector uncondition nuanc dealt socket connect connect throw case socket regist attach test case demonstr problem unabl creat unit test exhibit problem mock low level socket librari good figur good